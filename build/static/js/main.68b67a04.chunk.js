(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,a){e.exports=a(57)},43:function(e,t,a){},45:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(31),s=a.n(i),c=(a(43),a(36)),o=a(13),l=a.n(o),h=a(18),u=a(7),d=a(8),p=a(10),f=a(9),m=a(21),b=a(11),v=(a(45),a(17),a(59)),y=a(60),g=a(34),E=a(61),j=a(6),k=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return[r.a.createElement(j.g,{key:"chart",xType:"time",height:this.props.height,width:this.props.width},r.a.createElement(j.f,null),r.a.createElement(j.h,null),r.a.createElement(j.e,null),r.a.createElement(j.b,null),r.a.createElement(j.a,{opacity:.3,data:this.props.data}),r.a.createElement(j.c,{data:this.props.data,stroke:"#12939a",strokeStyle:"solid"}))]}}]),t}(n.Component),w=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return[r.a.createElement(j.g,{key:"chart",xType:"time",height:this.props.height,width:this.props.width},r.a.createElement(j.f,null),r.a.createElement(j.h,{tickPadding:0}),r.a.createElement(j.e,null),r.a.createElement(j.b,null),r.a.createElement(j.d,{data:this.props.data}))]}}]),t}(n.Component),O=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return[r.a.createElement(j.g,{key:"chart",xType:"time",height:this.props.height,width:this.props.width},r.a.createElement(j.f,null),r.a.createElement(j.h,null),r.a.createElement(j.e,null),r.a.createElement(j.b,null),r.a.createElement(j.c,{data:this.props.data,stroke:"#12939a",strokeStyle:"solid"}))]}}]),t}(n.Component),C=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"renderChart",value:function(){switch(this.props.type){case"area":return r.a.createElement(k,{data:this.props.data,height:this.props.height,width:this.props.width});case"verticalBars":return r.a.createElement(w,{data:this.props.data,height:this.props.height,width:this.props.width});case"line":return r.a.createElement(O,{data:this.props.data,height:this.props.height,width:this.props.width});default:return null}}},{key:"render",value:function(){return r.a.createElement("div",{className:"d-flex justify-content-center"},this.renderChart())}}]),t}(n.Component),x=a(58),S=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.props.loading?r.a.createElement("div",{className:"align-self-center mx-auto d-flex flex-column align-items-center"},r.a.createElement(x.a,{animation:"border",variant:"info"}),r.a.createElement("small",null,"Loading ...")):null}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={data:[],charts:[{id:"T10Y2Y",label:"T10Y2Y",series:["T10Y2Y"],type:"area",observationStart:"",data:[]},{id:"GDPCA",label:"GDPCA",series:["GDPCA"],type:"verticalBars",observationStart:"1999-01-01",data:[]},{id:"DGS10T10YIE",label:"DGS10 minus T10YIE",series:["DGS10","T10YIE"],type:"line",observationStart:"",data:[]}],selectedChart:"T10Y2Y",isLoading:!1},a.handleRadioChange=a.handleRadioChange.bind(Object(m.a)(a)),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.getChart(this.state.selectedChart),this.setChartData(t);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchFredSeries",value:function(){var e=Object(h.a)(l.a.mark(function e(t,a,n){var r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,fetch("/series/observations?series_id=".concat(t,"&frequency=").concat(a,"&observation_start=").concat(n,"&api_key=ac95f4955bcea62d846c5eea3adbddee&file_type=json")).then(function(e){if(200===e.status)return e.json().then(function(e){return e.observations.map(function(e){return{x:new Date(e.date).getTime(),y:parseFloat(e.value)?parseFloat(e.value):0}})});console.warn("Looks like there was a problem. Status Code: ".concat(e.status))});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setChartData",value:function(){var e=Object(h.a)(l.a.mark(function e(t){var a,n,r,i=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},t.data.length){e.next=10;break}return e.next=4,Promise.all(t.series.map(function(){var e=Object(h.a)(l.a.mark(function e(n,r){var s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetchFredSeries(n,"a",t.observationStart);case 2:s=e.sent,t.series.length>1?a[n]=s:a=s;case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()));case 4:"DGS10T10YIE"===t.id&&(a=this.computeDGS10T10YIEChartData(a)),n=this.state.charts.findIndex(function(e){return e.id===t.id}),(r=Object(c.a)(this.state.charts))[n].data=a,this.setState({charts:r}),this.setState({isLoading:!1});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"computeDGS10T10YIEChartData",value:function(e){var t=[];return e.DGS10.forEach(function(a){e.T10YIE.forEach(function(e){if(a.x===e.x){console.log(a.y,e.y);var n=a.y-e.y;t.push({x:a.x,y:n})}})}),t}},{key:"getChart",value:function(e){return this.state.charts.find(function(t){return t.id===e})}},{key:"getChartType",value:function(e){return this.state.charts.find(function(t){return t.id===e}).type}},{key:"getChartData",value:function(e){return this.state.charts.find(function(t){return t.id===e}).data}},{key:"handleRadioChange",value:function(e){var t=this,a=e.currentTarget;this.setState({selectedChart:a.value},function(){var e=t.getChart(a.value);t.setChartData(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.selectedChart,i=t.charts;return r.a.createElement(v.a,null,r.a.createElement(y.a,null,r.a.createElement(g.a,{xs:12},r.a.createElement("h1",{className:"text-center"},"G42 Challenge"),r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"wrapper d-flex"},r.a.createElement(S,{loading:a}),!a&&r.a.createElement(C,{data:this.getChartData(n),height:400,width:1e3,type:this.getChartType(n)})),r.a.createElement(E.a,{className:"d-flex center align-items-center justify-content-center"},r.a.createElement(E.a.Label,{className:"mb-0 mr-1"},r.a.createElement("strong",null,"Series :")),i.map(function(t){return r.a.createElement(E.a.Check,{inline:!0,key:t.label.toString(),onChange:e.handleRadioChange,checked:n===t.id,name:"seriesRadio",type:"radio",label:t.label,id:t.id,value:t.id})}))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.68b67a04.chunk.js.map